<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no">
    <title>Configuración - Módulo de Remuneraciones</title>

    <!-- Favicon -->
    <link rel="icon" href="/public/assets/img/favicon.ico">

    <!-- Font Awesome -->
    <link href="/public/assets/assets/vendor/fontawesome-free/css/all.min.css" rel="stylesheet" type="text/css">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">

    <!-- SB Admin 2 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/startbootstrap-sb-admin-2@4.1.4/css/sb-admin-2.min.css" rel="stylesheet">

    <!-- Font Awesome -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">

    <!-- SweetAlert2 -->
    <link href="https://cdn.jsdelivr.net/npm/sweetalert2@11.7.12/dist/sweetalert2.min.css" rel="stylesheet">

    <!-- Custom styles -->
    <link href="/remus/css/styles.css" rel="stylesheet">

    <style>
        .nav-pills .nav-link.active {
            background-color: #4e73df;
            color: white;
        }
        .setting-card {
            border-left: 4px solid #4e73df;
            transition: all 0.3s ease;
        }
        .setting-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 0.5rem 1rem rgba(0, 0, 0, 0.15) !important;
        }
    </style>
</head>
<body id="page-top">
<!-- Page Wrapper -->
<div id="wrapper">
    <!-- Sidebar -->
    <ul class="navbar-nav bg-gradient-primary sidebar sidebar-dark accordion" id="accordionSidebar">
        <!-- Sidebar - Brand -->
        <a class="sidebar-brand d-flex align-items-center justify-content-center" href="/remus/index.html">
            <div class="sidebar-brand-icon">
                <i class="fas fa-hand-holding-usd"></i>
            </div>
            <div class="sidebar-brand-text mx-3">Remuneraciones</div>
        </a>

        <!-- Divider -->
        <hr class="sidebar-divider my-0">

        <!-- Nav Item - Dashboard -->
        <li class="nav-item">
            <a class="nav-link" href="/remus/index.html">
                <i class="fas fa-fw fa-tachometer-alt"></i>
                <span>Inicio</span>
            </a>
        </li>

        <!-- Divider -->
        <hr class="sidebar-divider">

        <!-- Heading -->
        <div class="sidebar-heading">
            Módulos
        </div>

        <!-- Nav Item - Liquidaciones -->
        <li class="nav-item">
            <a class="nav-link" href="/remus/views/liquidaciones/lista.html">
                <i class="fas fa-fw fa-file-invoice-dollar"></i>
                <span>Liquidaciones</span>
            </a>
        </li>

        <!-- Nav Item - Empleados -->
        <li class="nav-item">
            <a class="nav-link" href="/remus/views/empleados/lista.html">
                <i class="fas fa-fw fa-users"></i>
                <span>Empleados</span>
            </a>
        </li>

        <!-- Nav Item - Reportes -->
        <li class="nav-item">
            <a class="nav-link" href="/remus/views/reportes/lista.html">
                <i class="fas fa-fw fa-chart-bar"></i>
                <span>Reportes</span>
            </a>
        </li>

        <!-- Divider -->
        <hr class="sidebar-divider d-none d-md-block">

        <!-- Nav Item - Configuración -->
        <li class="nav-item active">
            <a class="nav-link" href="/remus/views/configuracion/lista.html">
                <i class="fas fa-fw fa-cog"></i>
                <span>Configuración</span>
            </a>
        </li>

        <!-- Divider -->
        <hr class="sidebar-divider d-none d-md-block">

        <!-- Sidebar Toggler (Sidebar) -->
        <div class="text-center d-none d-md-inline">
            <button class="rounded-circle border-0" id="sidebarToggle"></button>
        </div>
    </ul>
    <!-- End of Sidebar -->

    <!-- Content Wrapper -->
    <div id="content-wrapper" class="d-flex flex-column">
        <!-- Main Content -->
        <div id="content">
            <!-- Topbar -->
            <nav class="navbar navbar-expand navbar-light bg-white topbar mb-4 static-top shadow">
                <!-- Sidebar Toggle (Topbar) -->
                <button id="sidebarToggleTop" class="btn btn-link d-md-none rounded-circle mr-3">
                    <i class="fa fa-bars"></i>
                </button>

                <!-- Topbar Navbar -->
                <ul class="navbar-nav ml-auto">
                    <!-- Nav Item - User Information -->
                    <li class="nav-item dropdown no-arrow">
                        <a class="nav-link dropdown-toggle" href="#" id="userDropdown" role="button"
                           data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                            <span class="mr-2 d-none d-lg-inline text-gray-600">Administrador</span>
                            <img class="img-profile rounded-circle"
                                 src="/public/assets/assets/img/undraw_profile.svg">
                        </a>
                        <!-- Dropdown - User Information -->
                        <div class="dropdown-menu dropdown-menu-right shadow animated--grow-in"
                             aria-labelledby="userDropdown">
                            <a class="dropdown-item" href="#">
                                <i class="fas fa-user fa-sm fa-fw mr-2 text-gray-400"></i>
                                Perfil
                            </a>
                            <a class="dropdown-item" href="#">
                                <i class="fas fa-cogs fa-sm fa-fw mr-2 text-gray-400"></i>
                                Configuración
                            </a>
                            <div class="dropdown-divider"></div>
                            <a class="dropdown-item" href="#" data-toggle="modal" data-target="#logoutModal">
                                <i class="fas fa-sign-out-alt fa-sm fa-fw mr-2 text-gray-400"></i>
                                Cerrar Sesión
                            </a>
                        </div>
                    </li>
                </ul>
            </nav>
            <!-- End of Topbar -->

            <!-- Begin Page Content -->
            <div class="container-fluid">
                <!-- Page Heading -->
                <div class="d-sm-flex align-items-center justify-content-between mb-4">
                    <h1 class="h3 mb-0 text-gray-800">Configuración del Sistema</h1>
                </div>

                <!-- Content Row -->
                <div class="row">
                    <div class="col-lg-3">
                        <!-- Configuración Sidebar -->
                        <div class="card shadow mb-4">
                            <div class="card-header py-3">
                                <h6 class="m-0 font-weight-bold text-primary">Menú de Configuración</h6>
                            </div>
                            <div class="card-body p-0">
                                <div class="list-group list-group-flush">
                                    <a href="#general" class="list-group-item list-group-item-action active" data-toggle="tab">
                                        <i class="fas fa-fw fa-cog mr-2"></i>General
                                    </a>
                                    <a href="#empresa" class="list-group-item list-group-item-action" data-toggle="tab">
                                        <i class="fas fa-fw fa-building mr-2"></i>Empresa
                                    </a>
                                    <a href="#seguridad" class="list-group-item list-group-item-action" data-toggle="tab">
                                        <i class="fas fa-fw fa-lock mr-2"></i>Seguridad
                                    </a>
                                    <a href="#correo" class="list-group-item list-group-item-action" data-toggle="tab">
                                        <i class="fas fa-fw fa-envelope mr-2"></i>Correo Electrónico
                                    </a>
                                    <a href="#backup" class="list-group-item list-group-item-action" data-toggle="tab">
                                        <i class="fas fa-fw fa-database mr-2"></i>Respaldo
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="col-lg-9">
                        <!-- Tab Content -->
                        <div class="tab-content">
                            <!-- General Tab -->
                            <div class="tab-pane fade show active" id="general">
                                <!-- Configuración General -->
                                <div class="card shadow mb-4 setting-card">
                                    <div class="card-header py-3 d-flex justify-content-between align-items-center">
                                        <h6 class="m-0 font-weight-bold text-primary">Configuración General del Sistema</h6>
                                    </div>
                                    <div class="card-body">
                                        <form id="config-general">
                                            <div class="row">
                                                <div class="col-md-6">
                                                    <div class="form-group">
                                                        <label for="nombre-sistema">Nombre del Sistema</label>
                                                        <input type="text" class="form-control" id="nombre-sistema" value="Sistema de Remuneraciones" required>
                                                    </div>
                                                </div>
                                                <div class="col-md-6">
                                                    <div class="form-group">
                                                        <label for="moneda">Moneda</label>
                                                        <select class="form-control" id="moneda">
                                                            <option value="CLP" selected>Peso Chileno (CLP)</option>
                                                            <option value="USD">Dólar Estadounidense (USD)</option>
                                                            <option value="EUR">Euro (EUR)</option>
                                                        </select>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="col-md-6">
                                                    <div class="form-group">
                                                        <label for="formato-fecha">Formato de Fecha</label>
                                                        <select class="form-control" id="formato-fecha">
                                                            <option value="DD/MM/YYYY" selected>DD/MM/AAAA</option>
                                                            <option value="MM/DD/YYYY">MM/DD/AAAA</option>
                                                            <option value="YYYY-MM-DD">AAAA-MM-DD</option>
                                                        </select>
                                                    </div>
                                                </div>
                                                <div class="col-md-6">
                                                    <div class="form-group">
                                                        <label for="zona-horaria">Zona Horaria</label>
                                                        <select class="form-control" id="zona-horaria">
                                                            <option value="America/Santiago" selected>Chile Continental (UTC-4)</option>
                                                            <option value="America/New_York">Nueva York (UTC-5/-4)</option>
                                                            <option value="Europe/Madrid">Madrid (UTC+1/+2)</option>
                                                        </select>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="col-12">
                                                    <div class="form-group form-check">
                                                        <input type="checkbox" class="form-check-input" id="mantenimiento">
                                                        <label class="form-check-label" for="mantenimiento">Modo mantenimiento</label>
                                                        <small class="form-text text-muted">Habilita el modo mantenimiento del sistema.</small>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="row mt-3">
                                                <div class="col-12">
                                                    <button type="submit" class="btn btn-primary">
                                                        <i class="fas fa-save mr-1"></i> Guardar Cambios
                                                    </button>
                                                    <button type="reset" class="btn btn-secondary">
                                                        <i class="fas fa-undo mr-1"></i> Restablecer
                                                    </button>
                                                </div>
                                            </div>
                                        </form>
                                    </div>
                                </div>

                                <!-- Configuración de Apariencia -->
                                <div class="card shadow mb-4 setting-card">
                                    <div class="card-header py-3 d-flex justify-content-between align-items-center">
                                        <h6 class="m-0 font-weight-bold text-primary">Apariencia</h6>
                                    </div>
                                    <div class="card-body">
                                        <form id="config-apariencia">
                                            <div class="row">
                                                <div class="col-md-6">
                                                    <div class="form-group">
                                                        <label for="tema">Tema de Color</label>
                                                        <select class="form-control" id="tema">
                                                            <option value="default" selected>Azul (Predeterminado)</option>
                                                            <option value="green">Verde</option>
                                                            <option value="purple">Morado</option>
                                                            <option value="dark">Oscuro</option>
                                                        </select>
                                                    </div>
                                                </div>
                                                <div class="col-md-6">
                                                    <div class="form-group">
                                                        <label for="tamano-fuente">Tamaño de Fuente</label>
                                                        <select class="form-control" id="tamano-fuente">
                                                            <option value="small">Pequeño</option>
                                                            <option value="medium" selected>Mediano</option>
                                                            <option value="large">Grande</option>
                                                        </select>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="col-12">
                                                    <div class="form-group">
                                                        <label for="logo-empresa">Logo de la Empresa</label>
                                                        <div class="custom-file">
                                                            <input type="file" class="custom-file-input" id="logo-empresa" accept="image/*">
                                                            <label class="custom-file-label" for="logo-empresa">Seleccionar archivo</label>
                                                        </div>
                                                        <small class="form-text text-muted">Tamaño recomendado: 200x50 píxeles</small>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="row mt-3">
                                                <div class="col-12">
                                                    <button type="submit" class="btn btn-primary">
                                                        <i class="fas fa-save mr-1"></i> Aplicar Cambios
                                                    </button>
                                                </div>
                                            </div>
                                        </form>
                                    </div>
                                </div>
                                        <h6 class="m-0 font-weight-bold text-primary">Configuración General</h6>
                                    </div>
                                    <div class="card-body">
                                        <form id="config-general">
                                            <div class="row">
                                                <div class="col-md-6">
                                                    <div class="form-group">
                                                        <label for="idioma">Idioma</label>
                                                        <select class="form-control" id="idioma">
                                                            <option value="es">Español</option>
                                                            <option value="en">English</option>
                                                        </select>
                                                    </div>
                                                </div>
                                                <div class="col-md-6">
                                                    <div class="form-group">
                                                        <label for="timezone">Zona Horaria</label>
                                                        <select class="form-control" id="timezone">
                                                            <option value="America/Santiago">Santiago (UTC-4)</option>
                                                            <option value="UTC">UTC</option>
                                                        </select>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <div class="form-check">
                                                    <input class="form-check-input" type="checkbox" id="notificaciones" checked>
                                                    <label class="form-check-label" for="notificaciones">
                                                        Activar notificaciones
                                                    </label>
                                                </div>
                                            </div>
                                            <button type="submit" class="btn btn-primary">Guardar Cambios</button>
                                        </form>
                                    </div>
                                </div>
                            </div>

                            <!-- Empresa Tab -->
                            <div class="tab-pane fade" id="empresa">
                                <!-- Información de la Empresa -->
                                <div class="card shadow mb-4 setting-card">
                                    <div class="card-header py-3 d-flex justify-content-between align-items-center">
                                        <h6 class="m-0 font-weight-bold text-primary">Información de la Empresa</h6>
                                    </div>
                                    <div class="card-body">
                                        <form id="info-empresa">
                                            <div class="row">
                                                <div class="col-md-6">
                                                    <div class="form-group">
                                                        <label for="nombre-empresa">Nombre de la Empresa</label>
                                                        <input type="text" class="form-control" id="nombre-empresa" required>
                                                    </div>
                                                </div>
                                                <div class="col-md-6">
                                                    <div class="form-group">
                                                        <label for="rut-empresa">RUT</label>
                                                        <input type="text" class="form-control" id="rut-empresa" placeholder="00.000.000-0" required>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="col-md-6">
                                                    <div class="form-group">
                                                        <label for="giro">Giro</label>
                                                        <input type="text" class="form-control" id="giro">
                                                    </div>
                                                </div>
                                                <div class="col-md-6">
                                                    <div class="form-group">
                                                        <label for="telefono-empresa">Teléfono</label>
                                                        <input type="tel" class="form-control" id="telefono-empresa">
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="col-md-6">
                                                    <div class="form-group">
                                                        <label for="email-empresa">Email</label>
                                                        <input type="email" class="form-control" id="email-empresa">
                                                    </div>
                                                </div>
                                                <div class="col-md-6">
                                                    <div class="form-group">
                                                        <label for="sitio-web">Sitio Web</label>
                                                        <input type="url" class="form-control" id="sitio-web" placeholder="https://">
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <label for="direccion-empresa">Dirección</label>
                                                <textarea class="form-control" id="direccion-empresa" rows="2"></textarea>
                                            </div>
                                            <div class="row mt-3">
                                                <div class="col-12">
                                                    <button type="submit" class="btn btn-primary">
                                                        <i class="fas fa-save mr-1"></i> Guardar Información
                                                    </button>
                                                </div>
                                            </div>
                                        </form>
                                    </div>
                                </div>

                                <!-- Datos Legales -->
                                <div class="card shadow mb-4 setting-card">
                                    <div class="card-header py-3 d-flex justify-content-between align-items-center">
                                        <h6 class="m-0 font-weight-bold text-primary">Datos Legales</h6>
                                    </div>
                                    <div class="card-body">
                                        <form id="datos-legales">
                                            <div class="row">
                                                <div class="col-md-6">
                                                    <div class="form-group">
                                                        <label for="codigo-sii">Código SII</label>
                                                        <input type="text" class="form-control" id="codigo-sii">
                                                    </div>
                                                </div>
                                                <div class="col-md-6">
                                                    <div class="form-group">
                                                        <label for="codigo-isapre">Código ISAPRE</label>
                                                        <input type="text" class="form-control" id="codigo-isapre">
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="col-md-6">
                                                    <div class="form-group">
                                                        <label for="codigo-afp">Código AFP</label>
                                                        <input type="text" class="form-control" id="codigo-afp">
                                                    </div>
                                                </div>
                                                <div class="col-md-6">
                                                    <div class="form-group">
                                                        <label for="codigo-mutual">Código Mutual de Seguridad</label>
                                                        <input type="text" class="form-control" id="codigo-mutual">
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <label for="resolucion-sii">Resolución SII</label>
                                                <input type="text" class="form-control" id="resolucion-sii">
                                            </div>
                                            <div class="row mt-3">
                                                <div class="col-12">
                                                    <button type="submit" class="btn btn-primary">
                                                        <i class="fas fa-save mr-1"></i> Guardar Configuración
                                                    </button>
                                                </div>
                                            </div>
                                        </form>
                                    </div>
                                </div>

                                <!-- Representante Legal -->
                                <div class="card shadow mb-4 setting-card">
                                    <div class="card-header py-3 d-flex justify-content-between align-items-center">
                                        <h6 class="m-0 font-weight-bold text-primary">Representante Legal</h6>
                                    </div>
                                    <div class="card-body">
                                        <form id="representante-legal">
                                            <div class="row">
                                                <div class="col-md-6">
                                                    <div class="form-group">
                                                        <label for="nombre-representante">Nombre Completo</label>
                                                        <input type="text" class="form-control" id="nombre-representante" required>
                                                    </div>
                                                </div>
                                                <div class="col-md-6">
                                                    <div class="form-group">
                                                        <label for="rut-representante">RUT</label>
                                                        <input type="text" class="form-control" id="rut-representante" placeholder="00.000.000-0" required>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="col-md-6">
                                                    <div class="form-group">
                                                        <label for="email-representante">Email</label>
                                                        <input type="email" class="form-control" id="email-representante">
                                                    </div>
                                                </div>
                                                <div class="col-md-6">
                                                    <div class="form-group">
                                                        <label for="telefono-representante">Teléfono</label>
                                                        <input type="tel" class="form-control" id="telefono-representante">
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="row mt-3">
                                                <div class="col-12">
                                                    <button type="submit" class="btn btn-primary">
                                                        <i class="fas fa-save mr-1"></i> Guardar Datos
                                                    </button>
                                                </div>
                                            </div>
                                        </form>
                                    </div>
                                </div>
                            </div>

                            <!-- Seguridad Tab -->
                            <div class="tab-pane fade" id="seguridad">
                                <!-- Contraseñas -->
                                <div class="card shadow mb-4 setting-card">
                                    <div class="card-header py-3 d-flex justify-content-between align-items-center">
                                        <h6 class="m-0 font-weight-bold text-primary">Cambiar Contraseña</h6>
                                    </div>
                                    <div class="card-body">
                                        <form id="cambiar-password">
                                            <div class="form-group">
                                                <label for="password-actual">Contraseña Actual</label>
                                                <div class="input-group">
                                                    <input type="password" class="form-control" id="password-actual" required>
                                                    <button class="btn btn-outline-secondary toggle-password" type="button">
                                                        <i class="fas fa-eye"></i>
                                                    </button>
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <label for="nuevo-password">Nueva Contraseña</label>
                                                <div class="input-group">
                                                    <input type="password" class="form-control" id="nuevo-password" required>
                                                    <button class="btn btn-outline-secondary toggle-password" type="button">
                                                        <i class="fas fa-eye"></i>
                                                    </button>
                                                </div>
                                                <small class="form-text text-muted">Mínimo 8 caracteres, incluyendo mayúsculas, minúsculas, números y caracteres especiales</small>
                                            </div>
                                            <div class="form-group">
                                                <label for="confirmar-password">Confirmar Nueva Contraseña</label>
                                                <div class="input-group">
                                                    <input type="password" class="form-control" id="confirmar-password" required>
                                                    <button class="btn btn-outline-secondary toggle-password" type="button">
                                                        <i class="fas fa-eye"></i>
                                                    </button>
                                                </div>
                                            </div>
                                            <div class="alert alert-info">
                                                <i class="fas fa-info-circle me-2"></i>
                                                Se recomienda cambiar la contraseña cada 90 días.
                                            </div>
                                            <div class="row mt-3">
                                                <div class="col-12">
                                                    <button type="submit" class="btn btn-primary">
                                                        <i class="fas fa-key mr-1"></i> Cambiar Contraseña
                                                    </button>
                                                </div>
                                            </div>
                                        </form>
                                    </div>
                                </div>

                                <!-- Autenticación de Dos Factores -->
                                <div class="card shadow mb-4 setting-card">
                                    <div class="card-header py-3 d-flex justify-content-between align-items-center">
                                        <h6 class="m-0 font-weight-bold text-primary">Autenticación de Dos Factores (2FA)</h6>
                                        <div class="form-check form-switch">
                                            <input class="form-check-input" type="checkbox" id="toggle-2fa" style="width: 3em; height: 1.5em;">
                                            <label class="form-check-label ms-2" for="toggle-2fa">Activar 2FA</label>
                                        </div>
                                    </div>
                                    <div class="card-body" id="2fa-config" style="display: none;">
                                        <div class="text-center mb-4">
                                            <img src="https://via.placeholder.com/200" alt="Código QR" id="2fa-qr" class="img-fluid mb-3">
                                            <p class="text-muted">Escanee el código QR con su aplicación de autenticación</p>
                                            <div class="input-group mb-3">
                                                <input type="text" class="form-control" id="2fa-code" placeholder="Código de verificación">
                                                <button class="btn btn-primary" type="button" id="verify-2fa">Verificar</button>
                                            </div>
                                            <div class="alert alert-warning">
                                                <i class="fas fa-exclamation-triangle me-2"></i>
                                                Guarde este código de respaldo en un lugar seguro: 
                                                <strong id="backup-code">XXXX-XXXX-XXXX</strong>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <!-- Sesiones Activas -->
                                <div class="card shadow mb-4 setting-card">
                                    <div class="card-header py-3 d-flex justify-content-between align-items-center">
                                        <h6 class="m-0 font-weight-bold text-primary">Sesiones Activas</h6>
                                    </div>
                                    <div class="card-body">
                                        <div class="table-responsive">
                                            <table class="table table-hover">
                                                <thead>
                                                    <tr>
                                                        <th>Dispositivo</th>
                                                        <th>Ubicación</th>
                                                        <th>Última Actividad</th>
                                                        <th>Acciones</th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    <tr>
                                                        <td>
                                                            <i class="fas fa-desktop me-2"></i> Windows 10 - Chrome
                                                        </td>
                                                        <td>Santiago, CL (192.168.1.1)</td>
                                                        <td>Hace 5 minutos</td>
                                                        <td>
                                                            <button class="btn btn-sm btn-outline-danger">
                                                                <i class="fas fa-sign-out-alt"></i> Cerrar Sesión
                                                            </button>
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <td>
                                                            <i class="fas fa-mobile-alt me-2"></i> Android - Chrome
                                                        </td>
                                                        <td>Valparaíso, CL (201.123.45.67)</td>
                                                        <td>Ayer a las 14:30</td>
                                                        <td>
                                                            <button class="btn btn-sm btn-outline-danger">
                                                                <i class="fas fa-sign-out-alt"></i> Cerrar Sesión
                                                            </button>
                                                        </td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                        <div class="text-end mt-3">
                                            <button class="btn btn-outline-danger" id="cerrar-todas">
                                                <i class="fas fa-sign-out-alt me-1"></i> Cerrar Todas las Otras Sesiones
                                            </button>
                                        </div>
                                    </div>
                                </div>

                                <!-- Historial de Inicio de Sesión -->
                                <div class="card shadow mb-4 setting-card">
                                    <div class="card-header py-3">
                                        <h6 class="m-0 font-weight-bold text-primary">Historial de Inicio de Sesión</h6>
                                    </div>
                                    <div class="card-body">
                                        <div class="table-responsive">
                                            <table class="table table-hover">
                                                <thead>
                                                    <tr>
                                                        <th>Fecha y Hora</th>
                                                        <th>Dispositivo</th>
                                                        <th>Ubicación</th>
                                                        <th>Estado</th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    <tr>
                                                        <td>15 Mar 2023, 10:15</td>
                                                        <td>Windows 10 - Chrome</td>
                                                        <td>Santiago, CL (192.168.1.1)</td>
                                                        <td><span class="badge bg-success">Éxito</span></td>
                                                    </tr>
                                                    <tr>
                                                        <td>14 Mar 2023, 22:30</td>
                                                        <td>Android - Chrome</td>
                                                        <td>Valparaíso, CL (201.123.45.67)</td>
                                                        <td><span class="badge bg-success">Éxito</span></td>
                                                    </tr>
                                                    <tr>
                                                        <td>14 Mar 2023, 20:15</td>
                                                        <td>Windows 10 - Firefox</td>
                                                        <td>Viña del Mar, CL (190.200.100.50)</td>
                                                        <td><span class="badge bg-danger">Fallido</span></td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                        <div class="text-center mt-3">
                                            <button class="btn btn-outline-primary">
                                                <i class="fas fa-history me-1"></i> Ver Historial Completo
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Correo Tab -->
                            <div class="tab-pane fade" id="correo">
                                <div class="card shadow mb-4 setting-card">
                                    <div class="card-header py-3 d-flex justify-content-between align-items-center">
                                        <h6 class="m-0 font-weight-bold text-primary">Configuración de Correo</h6>
                                    </div>
                                    <div class="card-body">
                                        <form id="config-correo">
                                            <div class="row">
                                                <div class="col-md-6">
                                                    <div class="form-group">
                                                        <label for="servidor-smtp">Servidor SMTP</label>
                                                        <input type="text" class="form-control" id="servidor-smtp" placeholder="smtp.tudominio.com" required>
                                                    </div>
                                                </div>
                                                <div class="col-md-6">
                                                    <div class="form-group">
                                                        <label for="puerto-smtp">Puerto</label>
                                                        <input type="number" class="form-control" id="puerto-smtp" value="587" required>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="col-md-6">
                                                    <div class="form-group">
                                                        <label for="email-sistema">Correo del Sistema</label>
                                                        <input type="email" class="form-control" id="email-sistema" placeholder="sistema@tudominio.com" required>
                                                    </div>
                                                </div>
                                                <div class="col-md-6">
                                                    <div class="form-group">
                                                        <label for="nombre-email">Nombre que aparece en los correos</label>
                                                        <input type="text" class="form-control" id="nombre-email" value="Sistema de Gestión">
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="col-md-6">
                                                    <div class="form-group">
                                                        <label for="usuario-smtp">Usuario SMTP</label>
                                                        <input type="text" class="form-control" id="usuario-smtp">
                                                    </div>
                                                </div>
                                                <div class="col-md-6">
                                                    <div class="form-group">
                                                        <label for="password-smtp">Contraseña SMTP</label>
                                                        <div class="input-group">
                                                            <input type="password" class="form-control" id="password-smtp">
                                                            <button class="btn btn-outline-secondary toggle-password" type="button">
                                                                <i class="fas fa-eye"></i>
                                                            </button>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <div class="form-check">
                                                    <input class="form-check-input" type="checkbox" id="usar-ssl">
                                                    <label class="form-check-label" for="usar-ssl">
                                                        Usar SSL/TLS
                                                    </label>
                                                </div>
                                                <div class="form-check">
                                                    <input class="form-check-input" type="checkbox" id="autenticacion-requerida" checked>
                                                    <label class="form-check-label" for="autenticacion-requerida">
                                                        Autenticación requerida
                                                    </label>
                                                </div>
                                            </div>
                                            <div class="alert alert-info">
                                                <i class="fas fa-info-circle me-2"></i>
                                                Para configurar Gmail, es necesario habilitar el acceso de aplicaciones menos seguras o generar una contraseña de aplicación.
                                            </div>
                                            <div class="row mt-3">
                                                <div class="col-12">
                                                    <button type="button" class="btn btn-outline-secondary me-2" id="test-email">
                                                        <i class="fas fa-paper-plane me-1"></i> Probar Configuración
                                                    </button>
                                                    <button type="submit" class="btn btn-primary">
                                                        <i class="fas fa-save me-1"></i> Guardar Configuración
                                                    </button>
                                                </div>
                                            </div>
                                        </form>
                                    </div>
                                </div>

                                <!-- Plantillas de Correo -->
                                <div class="card shadow mb-4 setting-card">
                                    <div class="card-header py-3 d-flex justify-content-between align-items-center">
                                        <h6 class="m-0 font-weight-bold text-primary">Plantillas de Correo</h6>
                                    </div>
                                    <div class="card-body">
                                        <div class="row">
                                            <div class="col-md-4">
                                                <div class="list-group" id="email-templates-list" role="tablist">
                                                    <a class="list-group-item list-group-item-action active" data-bs-toggle="list" href="#template-bienvenida" role="tab">
                                                        <i class="fas fa-envelope-open-text me-2"></i> Bienvenida
                                                    </a>
                                                    <a class="list-group-item list-group-item-action" data-bs-toggle="list" href="#template-recuperacion" role="tab">
                                                        <i class="fas fa-key me-2"></i> Recuperación de Contraseña
                                                    </a>
                                                    <a class="list-group-item list-group-item-action" data-bs-toggle="list" href="#template-notificacion" role="tab">
                                                        <i class="fas fa-bell me-2"></i> Notificaciones
                                                    </a>
                                                    <a class="list-group-item list-group-item-action" data-bs-toggle="list" href="#template-factura" role="tab">
                                                        <i class="fas fa-file-invoice me-2"></i> Facturación
                                                    </a>
                                                </div>
                                            </div>
                                            <div class="col-md-8">
                                                <div class="tab-content">
                                                    <div class="tab-pane fade show active" id="template-bienvenida" role="tabpanel">
                                                        <div class="form-group">
                                                            <label>Asunto</label>
                                                            <input type="text" class="form-control" value="¡Bienvenido a Nuestro Sistema!">
                                                        </div>
                                                        <div class="form-group mt-3">
                                                            <label>Contenido</label>
                                                            <div class="email-editor" style="min-height: 300px; border: 1px solid #ddd; padding: 15px;" contenteditable="true">
                                                                <h2>¡Bienvenido, {{nombre}}!</h2>
                                                                <p>Gracias por unirte a nuestro sistema. Tu cuenta ha sido creada exitosamente.</p>
                                                                <p>Tus credenciales de acceso son:</p>
                                                                <p>Usuario: <strong>{{email}}</strong><br>
                                                                Contraseña: <strong>{{password}}</strong></p>
                                                                <p>Por razones de seguridad, te recomendamos cambiar tu contraseña al primer inicio de sesión.</p>
                                                                <p>¡Esperamos que disfrutes de nuestros servicios!</p>
                                                                <p>Saludos,<br>El Equipo de Soporte</p>
                                                            </div>
                                                        </div>
                                                        <div class="mt-3">
                                                            <button class="btn btn-primary">
                                                                <i class="fas fa-save me-1"></i> Guardar Plantilla
                                                            </button>
                                                            <button class="btn btn-outline-secondary ms-2">
                                                                <i class="fas fa-redo me-1"></i> Restaurar por Defecto
                                                            </button>
                                                        </div>
                                                    </div>
                                                    <!-- Otras pestañas de plantillas aquí -->
                                                </div>
                                            </div>
                                        </div>
                                        <div class="alert alert-info mt-4">
                                            <i class="fas fa-info-circle me-2"></i>
                                            Utiliza las etiquetas entre dobles llaves ({{ }}) para incluir datos dinámicos en los correos.
                                            Ejemplo: {{nombre}}, {{email}}, {{fecha}}, etc.
                                        </div>
                                    </div>
                                </div>

                                <!-- Configuración de Notificaciones por Correo -->
                                <div class="card shadow mb-4 setting-card">
                                    <div class="card-header py-3">
                                        <h6 class="m-0 font-weight-bold text-primary">Notificaciones por Correo</h6>
                                    </div>
                                    <div class="card-body">
                                        <form id="notificaciones-email">
                                            <h6 class="mb-3">Activar notificaciones para:</h6>
                                            
                                            <div class="form-check form-switch mb-3">
                                                <input class="form-check-input" type="checkbox" id="notif-nuevo-usuario" checked>
                                                <label class="form-check-label" for="notif-nuevo-usuario">
                                                    Nuevos usuarios registrados
                                                </label>
                                            </div>
                                            
                                            <div class="form-check form-switch mb-3">
                                                <input class="form-check-input" type="checkbox" id="notif-cambio-password" checked>
                                                <label class="form-check-label" for="notif-cambio-password">
                                                    Cambios de contraseña
                                                </label>
                                            </div>
                                            
                                            <div class="form-check form-switch mb-3">
                                                <input class="form-check-input" type="checkbox" id="notif-actividad-sospechosa" checked>
                                                <label class="form-check-label" for="notif-actividad-sospechosa">
                                                    Actividad sospechosa
                                                </label>
                                            </div>
                                            
                                            <div class="form-group mt-4">
                                                <label>Destinatarios adicionales para notificaciones (separados por comas)</label>
                                                <input type="text" class="form-control" id="destinatarios-adicionales" placeholder="admin@empresa.com, soporte@empresa.com">
                                                <small class="form-text text-muted">Estos correos recibirán copias de todas las notificaciones del sistema.</small>
                                            </div>
                                            
                                            <div class="row mt-4">
                                                <div class="col-12">
                                                    <button type="submit" class="btn btn-primary">
                                                        <i class="fas fa-save me-1"></i> Guardar Configuración
                                                    </button>
                                                </div>
                                            </div>
                                        </form>
                                    </div>
                                </div>
                            </div>

                            <!-- Backup Tab -->
                            <div class="tab-pane fade" id="backup">
                                <div class="row">
                                    <div class="col-md-6">
                                        <div class="card shadow mb-4">
                                            <div class="card-header py-3">
                                                <h6 class="m-0 font-weight-bold text-primary">Crear Respaldo</h6>
                                            </div>
                                            <div class="card-body">
                                                <p>Crea una copia de seguridad de todos los datos del sistema.</p>
                                                <button class="btn btn-primary" id="crear-respaldo">
                                                    <i class="fas fa-download me-1"></i> Crear Respaldo Ahora
                                                </button>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="card shadow mb-4">
                                            <div class="card-header py-3">
                                                <h6 class="m-0 font-weight-bold text-primary">Restaurar desde Respaldo</h6>
                                            </div>
                                            <div class="card-body">
                                                <div class="form-group">
                                                    <label for="archivo-respaldo">Seleccionar archivo de respaldo</label>
                                                    <input type="file" class="form-control" id="archivo-respaldo">
                                                </div>
                                                <button class="btn btn-outline-primary" id="cargar-respaldo">
                                                    <i class="fas fa-upload me-1"></i> Cargar y Restaurar
                                                </button>
                                                <div class="alert alert-warning mt-3">
                                                    <i class="fas fa-exclamation-triangle me-2"></i>
                                                    ¡Precaución! Restaurar desde un respaldo sobrescribirá todos los datos actuales.
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="card shadow mb-4">
                                    <div class="card-header py-3 d-flex justify-content-between align-items-center">
                                        <h6 class="m-0 font-weight-bold text-primary">Configuración de Respaldo Automático</h6>
                                    </div>
                                    <div class="card-body">
                                        <form id="config-respaldo">
                                            <div class="row">
                                                <div class="col-md-4">
                                                    <div class="form-group">
                                                        <label for="frecuencia-respaldo">Frecuencia</label>
                                                        <select class="form-control" id="frecuencia-respaldo">
                                                            <option value="diario">Diario</option>
                                                            <option value="semanal" selected>Semanal</option>
                                                            <option value="mensual">Mensual</option>
                                                        </select>
                                                    </div>
                                                </div>
                                                <div class="col-md-4">
                                                    <div class="form-group">
                                                        <label for="hora-respaldo">Hora de Respaldo</label>
                                                        <input type="time" class="form-control" id="hora-respaldo" value="02:00">
                                                    </div>
                                                </div>
                                                <div class="col-md-4">
                                                    <div class="form-group">
                                                        <label for="max-respaldos">Máximo de Respaldos a Mantener</label>
                                                        <input type="number" class="form-control" id="max-respaldos" min="1" value="30">
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <label for="destino-respaldo">Destino del Respaldo</label>
                                                <div class="input-group">
                                                    <input type="text" class="form-control" id="destino-respaldo" value="/backups" readonly>
                                                    <button class="btn btn-outline-secondary" type="button" id="cambiar-destino">
                                                        <i class="fas fa-folder-open"></i> Cambiar
                                                    </button>
                                                </div>
                                                <small class="form-text text-muted">El directorio debe tener permisos de escritura.</small>
                                            </div>
                                            <div class="form-check mb-3">
                                                <input class="form-check-input" type="checkbox" id="notificar-respaldo" checked>
                                                <label class="form-check-label" for="notificar-respaldo">
                                                    Notificar por correo electrónico después de cada respaldo
                                                </label>
                                            </div>
                                            <div class="row">
                                                <div class="col-12">
                                                    <button type="submit" class="btn btn-primary">
                                                        <i class="fas fa-save me-1"></i> Guardar Configuración
                                                    </button>
                                                </div>
                                            </div>
                                        </form>
                                    </div>
                                </div>

                                <div class="card shadow mb-4">
                                    <div class="card-header py-3">
                                        <h6 class="m-0 font-weight-bold text-primary">Historial de Respaldos</h6>
                                    </div>
                                    <div class="card-body">
                                        <div class="table-responsive">
                                            <table class="table table-bordered" id="tabla-respaldos" width="100%" cellspacing="0">
                                                <thead>
                                                    <tr>
                                                        <th>Nombre del Archivo</th>
                                                        <th>Fecha</th>
                                                        <th>Tamaño</th>
                                                        <th>Tipo</th>
                                                        <th>Acciones</th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    <tr>
                                                        <td>backup_20230515_020001.zip</td>
                                                        <td>15/05/2023 02:00</td>
                                                        <td>15.7 MB</td>
                                                        <td><span class="badge bg-success">Automático</span></td>
                                                        <td>
                                                            <button class="btn btn-sm btn-primary">
                                                                <i class="fas fa-download"></i>
                                                            </button>
                                                            <button class="btn btn-sm btn-danger">
                                                                <i class="fas fa-trash"></i>
                                                            </button>
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <td>backup_20230508_020002.zip</td>
                                                        <td>08/05/2023 02:00</td>
                                                        <td>15.2 MB</td>
                                                        <td><span class="badge bg-success">Automático</span></td>
                                                        <td>
                                                            <button class="btn btn-sm btn-primary">
                                                                <i class="fas fa-download"></i>
                                                            </button>
                                                            <button class="btn btn-sm btn-danger">
                                                                <i class="fas fa-trash"></i>
                                                            </button>
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <td>respaldo_manual_20230501.zip</td>
                                                        <td>01/05/2023 14:30</td>
                                                        <td>14.9 MB</td>
                                                        <td><span class="badge bg-info">Manual</span></td>
                                                        <td>
                                                            <button class="btn btn-sm btn-primary">
                                                                <i class="fas fa-download"></i>
                                                            </button>
                                                            <button class="btn btn-sm btn-danger">
                                                                <i class="fas fa-trash"></i>
                                                            </button>
                                                        </td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                        <div class="alert alert-info mt-3">
                                            <i class="fas fa-info-circle me-2"></i>
                                            Los respaldos automáticos se realizan según la programación configurada. Los respaldos manuales pueden crearse en cualquier momento.
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- /.container-fluid -->

            </div>
            <!-- End of Main Content -->

            <!-- Footer -->
            <footer class="sticky-footer bg-white">
                <div class="container my-auto">
                    <div class="copyright text-center my-auto">
                        <span>Copyright &copy; Remus 2023</span>
                    </div>
                </div>
            </footer>
            <!-- End of Footer -->

        </div>
        <!-- End of Content Wrapper -->

    </div>
    <!-- End of Page Wrapper -->

    <!-- Scroll to Top Button-->
    <a class="scroll-to-top rounded" href="#page-top">
        <i class="fas fa-angle-up"></i>
    </a>

    <!-- Bootstrap core JavaScript-->
    <script src="../../../vendor/jquery/jquery.min.js"></script>
    <script src="../../../vendor/bootstrap/js/bootstrap.bundle.min.js"></script>

    <!-- Core plugin JavaScript-->
    <script src="../../../vendor/jquery-easing/jquery.easing.min.js"></script>

    <!-- Custom scripts for all pages-->
    <script src="../../../js/sb-admin-2.min.js"></script>

    <!-- Page level plugins -->
    <script src="../../../vendor/datatables/jquery.dataTables.min.js"></script>
    <script src="../../../vendor/datatables/dataTables.bootstrap4.min.js"></script>

    <!-- SweetAlert2 -->
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

    <script>
        // Activar tooltips
        $(document).ready(function() {
            $('[data-toggle="tooltip"]').tooltip();
            
            // Inicializar DataTables
            $('#tabla-respaldos').DataTable({
                "order": [[1, "desc"]],
                "language": {
                    "url": "//cdn.datatables.net/plug-ins/1.10.25/i18n/Spanish.json"
                }
            });

            // Toggle para mostrar/ocultar contraseña
            $('.toggle-password').click(function() {
                const input = $(this).siblings('input');
                const icon = $(this).find('i');
                if (input.attr('type') === 'password') {
                    input.attr('type', 'text');
                    icon.removeClass('fa-eye').addClass('fa-eye-slash');
                } else {
                    input.attr('type', 'password');
                    icon.removeClass('fa-eye-slash').addClass('fa-eye');
                }
            });

            // Toggle para 2FA
            $('#toggle-2fa').change(function() {
                if($(this).is(':checked')) {
                    $('#2fa-config').slideDown();
                    // Aquí iría la lógica para generar el código QR
                } else {
                    $('#2fa-config').slideUp();
                }
            });

            // Validación de formularios
            $('form').on('submit', function(e) {
                e.preventDefault();
                // Aquí iría la lógica para guardar la configuración
                Swal.fire({
                    icon: 'success',
                    title: '¡Configuración guardada!',
                    text: 'Los cambios se han guardado correctamente.',
                    showConfirmButton: false,
                    timer: 1500
                });
            });

            // Botón para probar configuración de correo
            $('#test-email').click(function() {
                Swal.fire({
                    title: 'Enviando correo de prueba...',
                    allowOutsideClick: false,
                    didOpen: () => {
                        Swal.showLoading();
                        // Simular envío de correo
                        setTimeout(() => {
                            Swal.fire({
                                icon: 'success',
                                title: '¡Correo enviado!',
                                text: 'El correo de prueba se ha enviado correctamente.',
                                showConfirmButton: true
                            });
                        }, 2000);
                    }
                });
            });

            // Botón para crear respaldo
            $('#crear-respaldo').click(function() {
                Swal.fire({
                    title: 'Creando respaldo...',
                    allowOutsideClick: false,
                    didOpen: () => {
                        Swal.showLoading();
                        // Simular creación de respaldo
                        setTimeout(() => {
                            Swal.fire({
                                icon: 'success',
                                title: '¡Respaldo creado!',
                                text: 'El respaldo se ha creado correctamente.',
                                showConfirmButton: true
                            });
                        }, 3000);
                    }
                });
            });
        });
    </script>
</body>

</html>
                                                <label for="empresa-rut">RUT</label>
                                                <input type="text" class="form-control" id="empresa-rut" value="76.123.456-7">
                                            </div>
                                            <div class="form-group">
                                                <label for="empresa-direccion">Dirección</label>
                                                <input type="text" class="form-control" id="empresa-direccion" value="Av. Principal 1234, Santiago">
                                            </div>
                                            <div class="row">
                                                <div class="col-md-6">
                                                    <div class="form-group">
                                                        <label for="empresa-telefono">Teléfono</label>
                                                        <input type="text" class="form-control" id="empresa-telefono" value="+56 2 2345 6789">
                                                    </div>
                                                </div>
                                                <div class="col-md-6">
                                                    <div class="form-group">
                                                        <label for="empresa-email">Correo Electrónico</label>
                                                        <input type="email" class="form-control" id="empresa-email" value="contacto@miempresa.cl">
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <label for="empresa-logo">Logo</label>
                                                <div class="custom-file">
                                                    <input type="file" class="custom-file-input" id="empresa-logo">
                                                    <label class="custom-file-label" for="empresa-logo">Seleccionar archivo</label>
                                                </div>
                                                <small class="form-text text-muted">Tamaño recomendado: 200x50 píxeles</small>
                                            </div>
                                            <button type="submit" class="btn btn-primary">Guardar Cambios</button>
                                        </form>
                                    </div>
                                </div>
                            </div>

                            <!-- Seguridad Tab -->
                            <div class="tab-pane fade" id="seguridad">
                                <div class="card shadow mb-4 setting-card">
                                    <div class="card-header py-3 d-flex justify-content-between align-items-center">
                                        <h6 class="m-0 font-weight-bold text-primary">Configuración de Seguridad</h6>
                                    </div>
                                    <div class="card-body">
                                        <form id="config-seguridad">
                                            <div class="form-group">
                                                <label for="seguridad-contrasena">Cambiar Contraseña</label>
                                                <input type="password" class="form-control mb-2" id="seguridad-contrasena" placeholder="Nueva Contraseña">
                                                <input type="password" class="form-control" id="seguridad-contrasena-confirm" placeholder="Confirmar Contraseña">
                                            </div>
                                            <div class="form-group">
                                                <label for="seguridad-pregunta">Pregunta de Seguridad</label>
                                                <select class="form-control" id="seguridad-pregunta">
                                                    <option>¿Cuál es el nombre de tu mascota?</option>
                                                    <option>¿Cuál es tu ciudad de nacimiento?</option>
                                                    <option>¿Cuál es tu comida favorita?</option>
                                                </select>
                                                <input type="text" class="form-control mt-2" id="seguridad-respuesta" placeholder="Tu respuesta">
                                            </div>
                                            <div class="form-group">
                                                <div class="form-check">
                                                    <input class="form-check-input" type="checkbox" id="seguridad-2fa">
                                                    <label class="form-check-label" for="seguridad-2fa">
                                                        Habilitar autenticación de dos factores (2FA)
                                                    </label>
                                                </div>
                                            </div>
                                            <button type="submit" class="btn btn-primary">Guardar Cambios</button>
                                        </form>
                                    </div>
                                </div>
                            </div>

                            <!-- Correo Tab -->
                            <div class="tab-pane fade" id="correo">
                                <div class="card shadow mb-4 setting-card">
                                    <div class="card-header py-3 d-flex justify-content-between align-items-center">
                                        <h6 class="m-0 font-weight-bold text-primary">Configuración de Correo Electrónico</h6>
                                    </div>
                                    <div class="card-body">
                                        <form id="config-correo">
                                            <div class="form-group">
                                                <label for="correo-protocolo">Protocolo</label>
                                                <select class="form-control" id="correo-protocolo">
                                                    <option>SMTP</option>
                                                    <option>Sendmail</option>
                                                    <option>Mail</option>
                                                </select>
                                            </div>
                                            <div class="row">
                                                <div class="col-md-6">
                                                    <div class="form-group">
                                                        <label for="correo-servidor">Servidor SMTP</label>
                                                        <input type="text" class="form-control" id="correo-servidor" placeholder="smtp.ejemplo.com">
                                                    </div>
                                                </div>
                                                <div class="col-md-3">
                                                    <div class="form-group">
                                                        <label for="correo-puerto">Puerto</label>
                                                        <input type="number" class="form-control" id="correo-puerto" value="587">
                                                    </div>
                                                </div>
                                                <div class="col-md-3">
                                                    <div class="form-group">
                                                        <label for="correo-seguridad">Seguridad</label>
                                                        <select class="form-control" id="correo-seguridad">
                                                            <option>TLS</option>
                                                            <option>SSL</option>
                                                            <option>Ninguna</option>
                                                        </select>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <label for="correo-email">Correo Electrónico</label>
                                                <input type="email" class="form-control" id="correo-email" placeholder="no-reply@miempresa.cl">
                                            </div>
                                            <div class="form-group">
                                                <label for="correo-nombre">Nombre de Remitente</label>
                                                <input type="text" class="form-control" id="correo-nombre" value="Sistema de Remuneraciones">
                                            </div>
                                            <div class="form-group">
                                                <div class="form-check">
                                                    <input class="form-check-input" type="checkbox" id="correo-autenticacion">
                                                    <label class="form-check-label" for="correo-autenticacion">
                                                        El servidor requiere autenticación
                                                    </label>
                                                </div>
                                            </div>
                                            <div id="credenciales-correo" style="display: none;">
                                                <div class="row">
                                                    <div class="col-md-6">
                                                        <div class="form-group">
                                                            <label for="correo-usuario">Usuario</label>
                                                            <input type="text" class="form-control" id="correo-usuario">
                                                        </div>
                                                    </div>
                                                    <div class="col-md-6">
                                                        <div class="form-group">
                                                            <label for="correo-contrasena">Contraseña</label>
                                                            <input type="password" class="form-control" id="correo-contrasena">
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <button type="submit" class="btn btn-primary">Guardar Cambios</button>
                                            <button type="button" class="btn btn-info ml-2" id="test-correo">Probar Configuración</button>
                                        </form>
                                    </div>
                                </div>
                            </div>

                            <!-- Backup Tab -->
                            <div class="tab-pane fade" id="backup">
                                <div class="card shadow mb-4 setting-card">
                                    <div class="card-header py-3 d-flex justify-content-between align-items-center">
                                        <h6 class="m-0 font-weight-bold text-primary">Respaldo y Restauración</h6>
                                    </div>
                                    <div class="card-body">
                                        <div class="row mb-4">
                                            <div class="col-md-6">
                                                <div class="card h-100">
                                                    <div class="card-body text-center">
                                                        <i class="fas fa-download fa-3x text-primary mb-3"></i>
                                                        <h5 class="card-title">Crear Respaldo</h5>
                                                        <p class="card-text">Crea un respaldo completo de la base de datos del sistema.</p>
                                                        <button class="btn btn-primary" id="crear-respaldo">
                                                            <i class="fas fa-download mr-2"></i>Crear Respaldo
                                                        </button>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-md-6">
                                                <div class="card h-100">
                                                    <div class="card-body text-center">
                                                        <i class="fas fa-upload fa-3x text-success mb-3"></i>
                                                        <h5 class="card-title">Restaurar desde Respaldo</h5>
                                                        <p class="card-text">Restaura la base de datos desde un archivo de respaldo.</p>
                                                        <div class="custom-file mb-3">
                                                            <input type="file" class="custom-file-input" id="archivo-respaldo">
                                                            <label class="custom-file-label" for="archivo-respaldo">Seleccionar archivo</label>
                                                        </div>
                                                        <button class="btn btn-success" id="restaurar-respaldo">
                                                            <i class="fas fa-upload mr-2"></i>Restaurar
                                                        </button>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="card">
                                            <div class="card-header">
                                                <h6 class="m-0 font-weight-bold">Respaldos Recientes</h6>
                                            </div>
                                            <div class="card-body">
                                                <div class="table-responsive">
                                                    <table class="table table-bordered" id="tabla-respaldos">
                                                        <thead>
                                                        <tr>
                                                            <th>Nombre del Archivo</th>
                                                            <th>Fecha</th>
                                                            <th>Tamaño</th>
                                                            <th>Acciones</th>
                                                        </tr>
                                                        </thead>
                                                        <tbody>
                                                        <tr>
                                                            <td>respaldo_20231115_1430.sql</td>
                                                            <td>15/11/2023 14:30</td>
                                                            <td>5.2 MB</td>
                                                            <td>
                                                                <button class="btn btn-sm btn-primary"><i class="fas fa-download"></i></button>
                                                                <button class="btn btn-sm btn-danger"><i class="fas fa-trash"></i></button>
                                                            </td>
                                                        </tr>
                                                        <tr>
                                                            <td>respaldo_20231101_0900.sql</td>
                                                            <td>01/11/2023 09:00</td>
                                                            <td>4.9 MB</td>
                                                            <td>
                                                                <button class="btn btn-sm btn-primary"><i class="fas fa-download"></i></button>
                                                                <button class="btn btn-sm btn-danger"><i class="fas fa-trash"></i></button>
                                                            </td>
                                                        </tr>
                                                        </tbody>
                                                    </table>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

            </div>
            <!-- /.container-fluid -->
        </div>
        <!-- End of Main Content -->

        <!-- Footer -->
        <footer class="sticky-footer bg-white">
            <div class="container my-auto">
                <div class="copyright text-center my-auto">
                    <span>Copyright &copy; Nexus ERP 2025</span>
                </div>
            </div>
        </footer>
        <!-- End of Footer -->
    </div>
    <!-- End of Content Wrapper -->
</div>
<!-- End of Page Wrapper -->

<!-- Scroll to Top Button-->
<a class="scroll-to-top rounded" href="#page-top">
    <i class="fas fa-angle-up"></i>
</a>

<!-- Logout Modal-->
<div class="modal fade" id="logoutModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
     aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">¿Listo para salir?</h5>
                <button class="close" type="button" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">×</span>
                </button>
            </div>
            <div class="modal-body">Seleccione "Cerrar sesión" a continuación si está listo para finalizar su sesión actual.</div>
            <div class="modal-footer">
                <button class="btn btn-secondary" type="button" data-dismiss="modal">Cancelar</button>
                <a class="btn btn-primary" href="login.html">Cerrar sesión</a>
            </div>
        </div>
    </div>
</div>

<!-- jQuery -->
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    
<!-- Bootstrap Bundle with Popper -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    
<!-- jQuery Easing -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-easing/1.4.1/jquery.easing.min.js"></script>
    
<!-- SB Admin 2 JS -->
<script src="https://cdn.jsdelivr.net/npm/startbootstrap-sb-admin-2@4.1.4/js/sb-admin-2.min.js"></script>
    
<!-- SweetAlert2 -->
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11.7.12/dist/sweetalert2.all.min.js"></script>
    
<!-- DataTables -->
<script src="https://cdn.datatables.net/1.11.5/js/jquery.dataTables.min.js"></script>
<script src="https://cdn.datatables.net/1.11.5/js/dataTables.bootstrap5.min.js"></script>
    
<!-- Custom scripts for this module -->
<script src="/remus/js/main.js"></script>
    
<!-- Initialize DataTables -->
<script>
    $(document).ready(function() {
        // Inicializar DataTables si existe la tabla
        if ($.fn.DataTable.isDataTable('#dataTable')) {
            $('#dataTable').DataTable({
                "language": {
                    "url": "//cdn.datatables.net/plug-ins/1.11.5/i18n/es-ES.json"
                },
                "responsive": true
            });
        }
    });
</script>

<script>
    $(document).ready(function() {
        // Activar tooltips
        $('[data-toggle="tooltip"]').tooltip();

        // Mostrar/ocultar credenciales de correo
        $('#correo-autenticacion').change(function() {
            if($(this).is(':checked')) {
                $('#credenciales-correo').slideDown();
            } else {
                $('#credenciales-correo').slideUp();
            }
        });

        // Actualizar nombre de archivo en input file
        $('.custom-file-input').on('change', function() {
            let fileName = $(this).val().split('\\').pop();
            $(this).next('.custom-file-label').addClass("selected").html(fileName);
        });

        // Manejar clic en botón de prueba de correo
        $('#test-correo').click(function() {
            Swal.fire({
                title: 'Probando configuración de correo...',
                text: 'Por favor espere mientras se prueba la conexión',
                allowOutsideClick: false,
                didOpen: () => {
                    Swal.showLoading();
                    // Simular prueba de conexión
                    setTimeout(() => {
                        Swal.fire(
                            '¡Conexión exitosa!',
                            'La configuración de correo electrónico es correcta.',
                            'success'
                        );
                    }, 2000);
                }
            });
        });

        // Manejar clic en botón de crear respaldo
        $('#crear-respaldo').click(function() {
            Swal.fire({
                title: 'Creando respaldo...',
                text: 'Por favor espere mientras se genera el respaldo',
                allowOutsideClick: false,
                didOpen: () => {
                    Swal.showLoading();
                    // Simular creación de respaldo
                    setTimeout(() => {
                        Swal.fire(
                            '¡Respaldo creado!',
                            'El respaldo se ha creado correctamente.',
                            'success'
                        );
                    }, 2000);
                }
            });
        });

        // Manejar clic en botón de restaurar
        $('#restaurar-respaldo').click(function() {
            if (!$('#archivo-respaldo').val()) {
                Swal.fire('Error', 'Por favor seleccione un archivo de respaldo', 'error');
                return;
            }

            Swal.fire({
                title: '¿Está seguro?',
                text: "Esta acción sobrescribirá los datos actuales. ¿Desea continuar?",
                icon: 'warning',
                showCancelButton: true,
                confirmButtonColor: '#3085d6',
                cancelButtonColor: '#d33',
                confirmButtonText: 'Sí, restaurar',
                cancelButtonText: 'Cancelar',
                showLoaderOnConfirm: true,
                preConfirm: () => {
                    return new Promise((resolve) => {
                        // Simular carga de archivo (reemplazar con lógica real)
                        setTimeout(() => {
                            const fileInput = document.getElementById('archivo-respaldo');
                            const file = fileInput.files[0];
                            
                            // Validar tipo de archivo
                            if (!file.name.endsWith('.json') && !file.name.endsWith('.sql')) {
                                Swal.showValidationMessage('El archivo debe ser un respaldo válido (.json o .sql)');
                                return resolve(false);
                            }
                            
                            // Aquí iría la lógica para procesar el archivo de respaldo
                            // Por ahora, simulamos una respuesta exitosa
                            resolve(true);
                        }, 1500);
                    });
                },
                allowOutsideClick: () => !Swal.isLoading()
            }).then((result) => {
                if (result.isConfirmed) {
                    Swal.fire({
                        title: '¡Éxito!',
                        text: 'La restauración se ha completado correctamente.',
                        icon: 'success',
                        showConfirmButton: true,
                        timer: 3000
                    }).then(() => {
                        // Recargar la página para aplicar cambios
                        window.location.reload();
                    });
                } else if (result.dismiss === Swal.DismissReason.cancel) {
                    Swal.fire(
                        'Cancelado',
                        'La restauración ha sido cancelada',
                        'error'
                    );
                }
            });
        });

        // Función para descargar respaldo
        function descargarRespaldo(nombreArchivo) {
            // Simular descarga (reemplazar con lógica real)
            const enlace = document.createElement('a');
            enlace.href = `#`; // URL del endpoint de descarga
            enlace.download = nombreArchivo;
            document.body.appendChild(enlace);
            enlace.click();
            document.body.removeChild(enlace);
            
            Swal.fire({
                position: 'top-end',
                icon: 'success',
                title: 'Descarga iniciada',
                showConfirmButton: false,
                timer: 1500
            });
        }

        // Función para eliminar respaldo
        function eliminarRespaldo(id, nombreArchivo) {
            Swal.fire({
                title: '¿Eliminar respaldo?',
                text: `¿Está seguro de eliminar el respaldo ${nombreArchivo}?`,
                icon: 'warning',
                showCancelButton: true,
                confirmButtonColor: '#d33',
                cancelButtonColor: '#3085d6',
                confirmButtonText: 'Sí, eliminar',
                cancelButtonText: 'Cancelar'
            }).then((result) => {
                if (result.isConfirmed) {
                    // Aquí iría la lógica para eliminar el respaldo
                    // Por ahora, simulamos la eliminación
                    setTimeout(() => {
                        Swal.fire(
                            '¡Eliminado!',
                            'El respaldo ha sido eliminado correctamente.',
                            'success'
                        ).then(() => {
                            // Recargar la tabla de respaldos
                            $('#tabla-respaldos').DataTable().ajax.reload();
                        });
                    }, 1000);
                }
            });
        }

        // Inicializar DataTable para la tabla de respaldos
        if ($.fn.DataTable.isDataTable('#tabla-respaldos')) {
            $('#tabla-respaldos').DataTable().destroy();
        }
        
        $('#tabla-respaldos').DataTable({
            language: {
                url: '//cdn.datatables.net/plug-ins/1.10.25/i18n/Spanish.json'
            },
            columnDefs: [
                {
                    targets: -1,
                    orderable: false,
                    searchable: false,
                    className: 'text-center'
                }
            ],
            order: [[1, 'desc']] // Ordenar por fecha descendente por defecto
        });

        // Inicializar tooltips de Bootstrap
        var tooltipTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]'));
        var tooltipList = tooltipTriggerList.map(function (tooltipTriggerEl) {
            return new bootstrap.Tooltip(tooltipTriggerEl);
        });

        // Mostrar/ocultar campos de credenciales según el protocolo seleccionado
        $('#correo-protocolo').change(function() {
            if ($(this).val() === 'SMTP') {
                $('#credenciales-correo').slideDown();
                $('#puerto-smtp').prop('disabled', false);
            } else {
                $('#credenciales-correo').slideUp();
                $('#puerto-smtp').prop('disabled', true);
            }
        });

        // Validación de formulario de configuración de correo
        $('#config-correo').on('submit', function(e) {
            e.preventDefault();
            
            const formData = {
                servidor: $('#servidor-smtp').val(),
                puerto: $('#puerto-smtp').val(),
                email: $('#email-sistema').val(),
                nombre: $('#nombre-email').val(),
                usuario: $('#usuario-smtp').val(),
                password: $('#password-smtp').val(),
                ssl: $('#usar-ssl').is(':checked'),
                autenticacion: $('#autenticacion-requerida').is(':checked')
            };

            // Validaciones
            if (!formData.servidor || !formData.puerto || !formData.email) {
                Swal.fire('Error', 'Por favor complete todos los campos requeridos', 'error');
                return;
            }

            if (!isValidEmail(formData.email)) {
                Swal.fire('Error', 'Por favor ingrese un correo electrónico válido', 'error');
                return;
            }

            // Mostrar carga
            Swal.fire({
                title: 'Guardando configuración...',
                allowOutsideClick: false,
                didOpen: () => {
                    Swal.showLoading();
                    
                    // Simular envío al servidor
                    setTimeout(() => {
                        Swal.fire({
                            icon: 'success',
                            title: '¡Configuración guardada!',
                            text: 'Los cambios se han aplicado correctamente.',
                            showConfirmButton: true
                        });
                    }, 1500);
                }
            });
        });

        // Función auxiliar para validar email
        function isValidEmail(email) {
            const re = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            return re.test(String(email).toLowerCase());
        }

        // Inicializar el editor de plantillas de correo
        function initEmailEditor() {
            // Aquí iría la inicialización de un editor de texto enriquecido
            // Por ejemplo, usando TinyMCE, CKEditor, o similar
            console.log('Inicializando editor de correo...');
        }

        // Inicializar componentes cuando el DOM esté listo
        $(document).ready(function() {
            initEmailEditor();
            
            // Inicializar tooltips
            $('[data-toggle="tooltip"]').tooltip();
            
            // Inicializar popovers
            $('[data-toggle="popover"]').popover();
            
            // Inicializar select2 si está disponible
            if ($.fn.select2) {
                $('.select2').select2({
                    theme: 'bootstrap4',
                    width: '100%'
                });
            }
            
            // Inicializar datepickers
            $('.datepicker').datepicker({
                format: 'dd/mm/yyyy',
                autoclose: true,
                language: 'es',
                todayHighlight: true
            });
        });